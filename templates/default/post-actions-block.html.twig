{% if app.user %}
    <div class="card my-4">
        <div class="card-header">
            <h5 class="mb-0">Post actions</h5>
        </div>
        <div class="p-3">
            {% if app.user.active %}
                <a href="{{ path('post_new') }}" class="btn btn-success btn-sm my-1">
                    <i class="fas fa-plus"></i> Add new post
                </a>
            {% else %}
                <a href="{{ path('post_new') }}" class="btn btn-success btn-sm my-1 disabled" disabled="">
                    <i class="fas fa-plus"></i> Add new post
                </a>
            {% endif %}

            {% if post is defined and is_author(post) %}
                <a href="{{ path('post_edit', {slug : post.slug}) }}" class="btn btn-primary btn-sm my-1"><i class="far fa-edit"></i>
                    Edit</a>
                {{ include('post/_delete_form.html.twig', {post: post}, with_context = false) }}
            {% endif %}

            <a href="{{ path('user_posts', {'nickname' : app.user.nickname}) }}" class="btn btn btn-info btn-sm my-1">
                My posts <span class="badge badge-light">{{ app.user.posts|length }}</span>
            </a>

        </div>

        {% if post is defined %}
            <hr class="m-0">

            <div class="py-2 px-3">
                <small>Author: {{ post.author.nickname }}</small>
            </div>

            <hr class="m-0">

            <div class="py-2 px-3">
                <small>Views: {{ post.views }}</small>
            </div>

            <hr class="m-0">

            <div class="py-2 px-3">
                <small>Updated: {{ post.updatedAt|date('d F Y, H:m') }}</small>
            </div>

            <hr class="m-0">

            <div class="py-2 px-3">
                <small>Created: {{ post.createdAt|date('d F Y, H:m') }}</small>
            </div>
        {% endif %}
    </div>
{% endif %}

